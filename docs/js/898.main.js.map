{"version":3,"file":"js/898.main.js","mappings":"8EA6BA,SAASA,EAAWC,GAChBA,EAAaC,SAASC,IAClBA,EAAGC,UAAUC,OAAO,UACpBF,EAAGG,MAAMC,WAAa,GACtBJ,EAAGG,MAAME,UAAY,GACrBL,EAAGG,MAAMG,OAAS,EAElB,MAAMC,EAAKP,EAAGQ,cAAc,oBACxBD,GAAIA,EAAGE,gBAAgB,QAAQ,GAE3C,CAvCAC,SAASC,iBAAiB,oBAAoB,KAC1C,MAAMb,EAAeY,SAASE,iBAAiB,iBACzCC,EAAUH,SAASF,cAAc,kBAEvCV,EAAaC,SAASe,IAClBA,EAAQH,iBAAiB,SAAUI,IAC/BA,EAAEC,kBAEF,MAAMC,EAAWH,EAAQb,UAAUiB,SAAS,UAE5CrB,EAAWC,GAENmB,GA6BjB,SAAsBH,EAASD,IAgD/B,SAAwBA,GACfA,IACLA,EAAQV,MAAMgB,cAAgB,OAClC,EAjDIC,CAAeP,GAEfC,EAAQb,UAAUoB,IAAI,UACtBP,EAAQX,MAAMG,OAAS,IAEvBgB,uBAAsB,KAClBR,EAAQX,MAAMC,WAAa,sBAC3BU,EAAQX,MAAME,UAAY,aAE1BkB,YAAW,IAInB,SAAsBT,GAClB,MAAMU,EAAOV,EAAQW,wBAEfC,EACFC,OAAOC,WAAa,EAAIJ,EAAKK,MAAQ,EAAIL,EAAKM,KAC5CC,EACFJ,OAAOK,YAAc,EAAIR,EAAKS,OAAS,EAAIT,EAAKU,IAEpDpB,EAAQX,MAAMC,WAAa,uBAC3BU,EAAQX,MAAME,UACV,aAAaqB,QAAiBK,kBAElCR,YAAW,IAGf,SAA0BT,GACtB,MAAMP,EAAKO,EAAQN,cAAc,oBAC5BD,GAEL4B,OAAOC,OAAO7B,EAAGJ,MAAO,CACpB+B,IAAK,IACLJ,KAAM,MACND,MAAO,SACPQ,UAAW,SACXC,QAAS,2BACTlC,WAAY,kCAEpB,CAfqBmC,CAAiBzB,IAAU,IAChD,CAjByB0B,CAAa1B,IAAU,IAAI,GAEpD,CAzCgB2B,CAAa3B,EAASD,EAC1B,GACF,IAINH,SAASC,iBAAiB,SAAS,KAC/Bd,EAAWC,GA0EnB,SAAwBe,GACfA,IACLA,EAAQV,MAAMgB,cAAgB,GAClC,CA5EQuB,CAAe7B,EAAQ,GACzB,G","sources":["webpack://website/./js/card.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const cardWrappers = document.querySelectorAll(\".card-wrapper\");\r\n    const overlay = document.querySelector(\".modal-overlay\");\r\n\r\n    cardWrappers.forEach((wrapper) => {\r\n        wrapper.addEventListener(\"click\", (e) => {\r\n            e.stopPropagation();\r\n\r\n            const isActive = wrapper.classList.contains(\"active\");\r\n\r\n            resetCards(cardWrappers);\r\n\r\n            if (!isActive) {\r\n                activateCard(wrapper, overlay);\r\n            }\r\n        });\r\n    });\r\n\r\n    // 背景クリックでリセット\r\n    document.addEventListener(\"click\", () => {\r\n        resetCards(cardWrappers);\r\n        restoreOverlay(overlay);\r\n    });\r\n});\r\n\r\n/* =========================\r\n   共通処理\r\n========================= */\r\n\r\nfunction resetCards(cardWrappers) {\r\n    cardWrappers.forEach((el) => {\r\n        el.classList.remove(\"active\");\r\n        el.style.transition = \"\";\r\n        el.style.transform = \"\";\r\n        el.style.zIndex = 1;\r\n\r\n        const bg = el.querySelector(\".card-background\");\r\n        if (bg) bg.removeAttribute(\"style\");\r\n    });\r\n}\r\n\r\nfunction activateCard(wrapper, overlay) {\r\n    // overlay がクリックを奪わないようにする\r\n    disableOverlay(overlay);\r\n\r\n    wrapper.classList.add(\"active\");\r\n    wrapper.style.zIndex = 100;\r\n\r\n    requestAnimationFrame(() => {\r\n        wrapper.style.transition = \"transform 0.3s ease\";\r\n        wrapper.style.transform = \"scale(1.2)\";\r\n\r\n        setTimeout(() => moveToCenter(wrapper), 300);\r\n    });\r\n}\r\n\r\nfunction moveToCenter(wrapper) {\r\n    const rect = wrapper.getBoundingClientRect();\r\n\r\n    const translateX =\r\n        window.innerWidth / 2 - rect.width / 2 - rect.left;\r\n    const translateY =\r\n        window.innerHeight / 2 - rect.height / 2 - rect.top;\r\n\r\n    wrapper.style.transition = \"transform 0.25s ease\";\r\n    wrapper.style.transform =\r\n        `translate(${translateX}px, ${translateY}px) scale(1.2)`;\r\n\r\n    setTimeout(() => expandBackground(wrapper), 250);\r\n}\r\n\r\nfunction expandBackground(wrapper) {\r\n    const bg = wrapper.querySelector(\".card-background\");\r\n    if (!bg) return;\r\n\r\n    Object.assign(bg.style, {\r\n        top: \"0\",\r\n        left: \"47%\",\r\n        width: \"75vmin\",\r\n        maxHeight: \"40vmin\",\r\n        padding: \"1vmin 4vmin 2vmin 22vmin\",\r\n        transition: \"all 0.25s ease, height 1s ease\"\r\n    });\r\n}\r\n\r\n/* =========================\r\n   overlay 制御（最重要）\r\n========================= */\r\n\r\nfunction disableOverlay(overlay) {\r\n    if (!overlay) return;\r\n    overlay.style.pointerEvents = \"none\";\r\n}\r\n\r\nfunction restoreOverlay(overlay) {\r\n    if (!overlay) return;\r\n    overlay.style.pointerEvents = \"\";\r\n}\r\n"],"names":["resetCards","cardWrappers","forEach","el","classList","remove","style","transition","transform","zIndex","bg","querySelector","removeAttribute","document","addEventListener","querySelectorAll","overlay","wrapper","e","stopPropagation","isActive","contains","pointerEvents","disableOverlay","add","requestAnimationFrame","setTimeout","rect","getBoundingClientRect","translateX","window","innerWidth","width","left","translateY","innerHeight","height","top","Object","assign","maxHeight","padding","expandBackground","moveToCenter","activateCard","restoreOverlay"],"sourceRoot":""}